#/bin/bash

wz() {
	git clone "git://git.gnome.org/$1"
	cd $1
	git remote set-url origin "ssh://git.gnome.org/git/$1";
	git remote add official git://git.gnome.org/$1 && git fetch official
	cd po
	gnome -t $1
	exit;
}

usage() {
	echo "usage:
	$0 OPTION
	OPTION is:
	-f	browser Debian sid package
	-b	report bug
	-t	download pot file from master branch
	-s	download pot file from stable branch
	-p	download po file from master branch
	-i	browser git repo on official domain
	-g	add official git repo by git:// protocol
	-u	browser on github.com
	-w	wizard
	-G	Go to git directory
	-W	go to Wiki of package
	-H	go to Homepage
	-h	help

Project infomations:

# Copyright © 2014 GNOME i18n Project for Vietnamese.
# This file is distributed under the same license as the PACKAGE package.
Vietnamese <gnome-vi-list@gnome.org>
Nhóm Việt hóa GNOME (https://l10n.gnome.org/teams/vi/)

Git:
 * git://git.gnome.org/PACKAGE
 * ssh://git.gnome.org/git/PACKAGE
"
	exit;
}

# define stable branch
stable='gnome-3-14'

if [[ "$#" -lt "1" ]]; then
	usage
fi

while getopts "f:b:t:s:p:i:g:u:w:G:W:hH" opt; do
  case $opt in
    f)
      firefox https://packages.debian.org/sid/$OPTARG
      ;;
    t)
      wget --timestamping https://l10n.gnome.org/POT/$OPTARG.master/$OPTARG.master.pot
      ;;
    s)
      wget --timestamping https://l10n.gnome.org/POT/$OPTARG.$stable/$OPTARG.$stable.pot
      ;;
    p)
      wget --timestamping https://l10n.gnome.org/POT/$OPTARG.master/$OPTARG.master.vi.po
      ;;
    b)
      firefox https://bugzilla.gnome.org/enter_bug.cgi?product=$OPTARG &
      ;;
    i)
      firefox https://git.gnome.org/browse/$OPTARG/ &
      ;;
    g)
      git remote add official git://git.gnome.org/$OPTARG && git fetch official
    ;;
    u)
      firefox https://github.com/GNOME/$OPTARG/ &
      ;;
    w)
      wz $OPTARG
      ;;
    W)
      firefox https://wiki.gnome.org/Apps/$OPTARG &
      ;;
    G)
      cd /mnt/E/MyProjects/GNOME/$OPTARG
      ;;
    H)
	  firefox https://l10n.gnome.org/teams/vi/
      ;;
    h|*)
	usage
      ;;
  esac
done

